/*! snek v1.5.0 | (c) 2024 iconix | MIT License | https://github.com/iconix/snek */
const n="left",t="right",e="down",{INPUT:i}={BOARD:{CTRL_PANEL_HEIGHT:50,MARGIN_SIZE:20,NUM_STEPS_ACROSS_CANVAS:30,DEFAULT_BACKGROUND_COLOR:"white",DEFAULT_BORDER_COLOR:"darkgreen",TELEPORT_BORDER_COLOR:"blue",TELEPORT_BACKGROUND_COLOR:"#e2f1fa",FILTERS:{NONE:"none",PAUSE:"contrast(1.4) sepia(1)",ENDGAME:"grayscale(0.8) blur(0.5px)"}},SNAKE:{INITIAL_LENGTH:5,DEFAULT_COLOR:"lightgreen",DEFAULT_BORDER_COLOR:"darkgreen",PHASE_BORDER_COLOR:"violet"},ITEM:{FOOD_COLOR:"red",FOOD_BORDER_COLOR:"darkred",PHASE_COLOR:"orchid",PHASE_BORDER_COLOR:"violet",TELEPORT_COLOR:"blue",TELEPORT_BORDER_COLOR:"darkblue",PHASE_SCORE_THRESHOLD:150,TELEPORT_SCORE_THRESHOLD:50,BASE_PHASE_PROBABILITY:.1,BASE_TELEPORT_PROBABILITY:.1,BASE_VOLATILE_FOOD_PROBABILITY:.01},GAME:{SCORE_INCREMENT:10,SCORE_THRESHOLD_FOR_VOLATILE_FOOD:100,SPEED_MS__ARROW:100,SPEED_MS__MOTION:125},INPUT:{SWIPE_SENSITIVITY:10,MOTION_SENSITIVITY:15,MOTION_THROTTLE_TIME_MS:100},CANVAS:{GAME_TEXT_COLOR:"gray",HIGH_SCORE_TEXT_COLOR:"goldenrod",PAUSE_BTN_COLOR:"darkkhaki",EXCLAMATION_BTN_COLOR:"darkkhaki",GAME_TEXT_FONT_FAMILY:'"Saira", serif',GAME_TEXT_FONT_SIZE:50},STATE:{LOCAL_STORAGE_KEY_HIGH_SCORE:"highScore",LOCAL_STORAGE_KEY_GAME_SPEED:"gameSpeed"},ERROR:{MESSAGE_FONT:"20px Arial",MESSAGE_COLOR:"red",MESSAGE_BACKGROUND:"rgba(0, 0, 0, 0.7)"}};class o{constructor(n,t={}){this.container=n,this.options={showInfo:!0,position:"inline",...t},this._create()}update(n,t){const{beta:e,gamma:i}=n,o=30,a=Math.min(Math.max(i,-30),o)/o,r=Math.min(Math.max(e,-30),o)/o,s="corner"===this.options.position?40:60;if(this.dot instanceof HTMLDivElement&&(this.dot.style.transform=`translate(${a*s}px, ${r*s}px)`),this.arrows&&this.arrows.forEach((n=>n.classList.remove("active"))),t){const n=this.container.querySelector(`.arrow.${t.toLowerCase()}`);n instanceof HTMLDivElement&&n.classList.add("active"),this.options.showInfo&&this.directionValue instanceof HTMLSpanElement&&this.directionValue.textContent!==t&&(this.directionValue.classList.add("highlight"),this.directionValue.textContent=t,setTimeout((()=>{this.directionValue instanceof HTMLSpanElement&&this.directionValue.classList.remove("highlight")}),300))}this.options.showInfo&&(this.betaValue instanceof HTMLSpanElement&&(this.betaValue.textContent=e.toFixed(2)),this.gammaValue instanceof HTMLSpanElement&&(this.gammaValue.textContent=i.toFixed(2)))}show(){this.container&&(this.container.style.display="block")}hide(){this.container&&(this.container.style.display="none")}_create(){this.container.innerHTML=`\n            <div class="motion-indicator ${this.options.position}">\n                <div class="tilt-indicator ${this.options.position}">\n                    <div class="dot"></div>\n                    <div class="arrow up ${this.options.position}">▲︎</div>\n                    <div class="arrow down ${this.options.position}">▼︎</div>\n                    <div class="arrow left ${this.options.position}">◀︎</div>\n                    <div class="arrow right ${this.options.position}">▶︎</div>\n                </div>\n                ${this.options.showInfo?'\n                <div class="info">\n                    <p>Direction: <span class="direction-value">None</span></p>\n                    \x3c!-- <p>Sensitivity: <span class="sensitivity-value">1.00</span></p> --\x3e\n                    <p>Beta: <span class="beta-value">0.00</span>°</p>\n                    <p>Gamma: <span class="gamma-value">0.00</span>°</p>\n                </div>\n                ':""}\n            </div>\n        `,this.dot=this.container.querySelector(".dot"),this.arrows=this.container.querySelectorAll(".arrow"),this.directionValue=this.container.querySelector(".direction-value"),this.betaValue=this.container.querySelector(".beta-value"),this.gammaValue=this.container.querySelector(".gamma-value"),this._addStyles()}_addStyles(){const n=document.createElement("style");n.textContent="\n            .motion-indicator {\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n            }\n            .motion-indicator.corner {\n                position: fixed;\n                bottom: 20px;\n                right: 20px;\n                background: white;\n                padding: 10px;\n                border-radius: 10px;\n                box-shadow: 0 0 10px rgba(0,0,0,0.1);\n            }\n            .tilt-indicator {\n                width: 150px;\n                height: 150px;\n                border: 2px solid #ccc;\n                border-radius: 10px;\n                position: relative;\n                overflow: hidden;\n            }\n            .tilt-indicator.corner {\n                width: 100px;\n                height: 100px;\n            }\n            .dot {\n                width: 20px;\n                height: 20px;\n                background: blue;\n                border-radius: 50%;\n                position: absolute;\n                top: 50%;\n                left: 50%;\n                transform: translate(-50%, -50%);\n                transition: transform 0.1s ease;\n            }\n            .arrow {\n                position: absolute;\n                color: #ccc;\n                font-size: 24px;\n                transition: color 0.3s ease;\n            }\n            .arrow.up { top: 10px; left: 50%; transform: translateX(-50%); }\n            .arrow.down { bottom: 10px; left: 50%; transform: translateX(-50%); }\n            .arrow.left { left: 10px; top: 50%; transform: translateY(-50%); }\n            .arrow.right { right: 10px; top: 50%; transform: translateY(-50%); }\n            .arrow.active { color: green; }\n            .arrow.up.corner { top: 5px; }\n            .arrow.down.corner { bottom: 5px; }\n            .arrow.left.corner { left: 5px; }\n            .arrow.right.corner { right: 5px; }\n            .info {\n                text-align: left;\n                margin-left: 20px;\n            }\n            .info p {\n                margin: 5px 0;\n            }\n            .direction-value {\n                display: inline-block;\n                padding: 2px 8px;\n                border-radius: 4px;\n                transition: background-color 0.3s ease;\n            }\n            .direction-value.highlight {\n                background-color: #ffd700;\n            }\n        ",document.head.appendChild(n)}}function a(o,a,r,s,c){if(!a)return null;if(s-c<i.MOTION_THROTTLE_TIME_MS)return null;o.beta,a.beta,o.gamma,a.gamma;const l={beta:o.beta-r.beta,gamma:o.gamma-r.gamma};return function(n){const t=i.MOTION_SENSITIVITY;return Math.abs(n.beta)>t||Math.abs(n.gamma)>t}(l)?function(i){let o=null;o=Math.abs(i.beta)>Math.abs(i.gamma)?i.beta<0?"up":e:i.gamma<0?n:t;return o}(l):null}document.addEventListener("DOMContentLoaded",(function(){const n=document.getElementById("motionIndicator");if(!(n instanceof HTMLDivElement))return void console.error("motion indicator container not found");const t=new o(n,{showInfo:!0,position:"inline"});let e=null,i=null,r=null,s=null;if(window.DeviceOrientationEvent)if("undefined"!=typeof DeviceOrientationEvent&&"function"==typeof DeviceOrientationEvent.requestPermission){const n=document.getElementById("requestPermission");n instanceof HTMLButtonElement&&(n.style.display="block",n.addEventListener("click",(function(){DeviceOrientationEvent.requestPermission().then((n=>{if("granted"===n){window.addEventListener("deviceorientation",c),function(){const n=document.getElementById("errorMessage");n&&(n.textContent="")}();const n=document.getElementById("requestPermission");n instanceof HTMLButtonElement&&(n.style.display="none")}else l("permission to access device orientation was denied.")})).catch(console.error)})))}else window.addEventListener("deviceorientation",c);else l("sorry, your browser doesn't support Device Orientation");function c(n){const o=Date.now(),c={beta:n.beta||0,gamma:n.gamma||0};e||(e={...c},i={...c});const l=a(c,e,i,o,r);l&&(s=l,console.log("direction changed:",s),r=o,i=c),t.update(c,s)}function l(n){const t=document.getElementById("errorMessage");t&&(t.textContent=n)}}));
//# sourceMappingURL=debug__orientation.min.js.map
